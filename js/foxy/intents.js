// js/foxy/intents.js

const patterns = {
  // ğŸ‘‹ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ
  greeting: [/^Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚/i, /^Ğ·Ğ´Ñ€Ğ°Ğ²/i],

  // ğŸ‘‹ ĞŸÑ€Ğ¾Ñ‰Ğ°Ğ½Ğ¸Ğµ
  bye: [/^Ğ¿Ğ¾ĞºĞ°/i, /^Ğ´Ğ¾ ÑĞ²Ğ¸Ğ´/i],

  // ğŸ™ Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚ÑŒ
  thanks: [/ÑĞ¿Ğ°ÑĞ¸Ğ±/i, /Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€/i],

  // ğŸ’¬ ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ, smalltalk
  mood: [/ĞºĞ°Ğº.*Ğ´ĞµĞ»Ğ°/i, /ĞºĞ°Ğº Ñ‚Ñ‹/i],
  smalltalkLite: [/Ğ¾Ğº/i, /Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾/i, /Ğ»Ğ°Ğ´Ğ½Ğ¾/i, /ÑÑĞ½Ğ¾/i],

  // ğŸ†˜ ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ
  help: [/Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰/i, /Ğ½Ğµ Ğ·Ğ½Ğ°Ñ/i, /Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¸/i],

  // ğŸ“‹ Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¸ Ğ¿Ñ€Ğ°Ğ¹Ñ
  showServices: [/ÑƒÑĞ»ÑƒĞ³/i, /Ğ¿Ñ€Ğ°Ğ¹Ñ/i, /Ñ†ĞµĞ½Ñ‹/i],

  // ğŸ“… Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ
  booking: [/Ğ·Ğ°Ğ¿Ğ¸Ñ/i, /ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½.*Ğ²Ñ€ĞµĞ¼/i, /ÑĞ´ĞµĞ»Ğ°[Ñ‚ÑŒÑ]/i],

  // ğŸ’… Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½ Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€
  design: [/Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½/i, /Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€/i, /Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²/i],
  styleTalk: [/Ğ½ÑĞ´/i, /Ğ±Ğ»[ĞµÑ‘]ÑÑ‚Ğº/i, /ĞºĞ¾ÑˆĞ°Ñ‡Ğ¸Ğ¹/i, /Ñ„Ñ€ĞµĞ½Ñ‡/i, /ÑÑ‚Ñ€Ğ°Ğ·Ñ‹/i],

  // ğŸ“Œ ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾
  showSomething: [/Ğ¿Ğ¾ĞºĞ°Ğ¶Ğ¸/i, /Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹/i, /Ñ…Ğ¾Ñ‡Ñƒ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ/i, /Ñ…Ğ¾Ñ‡Ñƒ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚/i],

  // âœ… ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
  confirm: [/^Ğ´Ğ°$/i, /^Ğ°Ğ³Ğ°$/i, /^Ñ‚Ğ¾Ñ‡Ğ½Ğ¾$/i, /^Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾$/i],
  confirmBooking: [/Ğ·Ğ°Ğ¿Ğ¸Ñˆ/i, /Ğ¾Ñ„Ğ¾Ñ€Ğ¼/i, /Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸/i, /Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹/i, /Ğ²Ğ½ĞµÑĞ¸/i],

  // â„¹ï¸ Ğ Ğ±Ğ¾Ñ‚Ğµ
  about: [/ĞºÑ‚Ğ¾ Ñ‚Ñ‹/i, /Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ Ñ‚Ğ°ĞºĞ¾Ğµ/i, /Ñ‚Ñ‹ Ğ±Ğ¾Ñ‚/i],

  // ğŸ§  ĞĞ°Ğ²Ñ‹ĞºĞ¸
  abilities: [/Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ ÑƒĞ¼ĞµĞµÑˆÑŒ/i, /Ñ‡ĞµĞ¼.*Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ.*Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ/i, /Ğ·Ğ°Ñ‡ĞµĞ¼ Ñ‚Ñ‹/i, /Ğ´Ğ»Ñ Ñ‡ĞµĞ³Ğ¾ Ñ‚Ñ‹/i],

  // ğŸ˜¬ ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ
  softWarning: [/Ğ´ÑƒÑ€Ğ°/i, /Ñ‚ÑƒĞ¿Ğ°Ñ/i, /Ñ…ÑƒĞ¹/i, /Ğ¿Ğ¾ÑˆĞ»Ğ°/i]
};

export function matchIntent(input) {
  for (const [intent, regexes] of Object.entries(patterns)) {
    if (regexes.some(r => r.test(input))) return intent;
  }
  return null;
}
