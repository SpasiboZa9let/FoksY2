// foxy/core/intents.js

const intentMatchers = {
  greeting: [
    "–ø—Ä–∏–≤–µ—Ç", "—Ö–∞–π", "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π", "–∑–¥–∞—Ä–æ–≤–∞", "–∫—É", "–ø—Ä–∏–≤",
    "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å", "–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ", "–≤–µ—á–µ—Ä –¥–æ–±—Ä—ã–π"
  ],
  design: [
    "–¥–∏–∑–∞–π–Ω", "—Ä–∏—Å—É–Ω–æ–∫", "—É–∑–æ—Ä", "–ø—Ä–∏–º–µ—Ä", "–≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ", "–ø–æ–∫–∞–∂–∏ –∏–¥–µ–∏", "–≤–∞—Ä–∏–∞–Ω—Ç—ã"
  ],
  confirmBooking: [
    "–∑–∞–ø–∏—à–∏", "—Ö–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è", "–¥–∞–≤–∞–π –∑–∞–ø–∏—à–µ–º—Å—è", "–º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è", "—Ö–æ—á—É –ø—Ä–∏–π—Ç–∏"
  ],
  showSomething: [
    "–ø–æ–∫–∞–∂–∏", "–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å", "—á—Ç–æ –≤—Ö–æ–¥–∏—Ç", "—á—Ç–æ –µ—Å—Ç—å", "–≤–∞—Ä–∏–∞–Ω—Ç—ã", "—á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å"
  ],
  confirm: [
    "–¥–∞", "–∞–≥–∞", "–æ–∫", "—Ö–æ—Ä–æ—à–æ", "—Ç–æ—á–Ω–æ", "–¥–∞–≤–∞–π"
  ],
  abilities: [
    "—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å", "—á—Ç–æ –º–æ–∂–µ—à—å", "–ø–æ–º–æ—â—å", "—Ä–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ"
  ],
  booking: [
    "–∑–∞–ø–∏—Å—å", "–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å", "–≥–¥–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è", "–∫–∞–∫ –ø–æ–ø–∞—Å—Ç—å"
  ],
  mood: [
    "–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ", "–ø–æ–¥–±–µ—Ä–∏", "—á—Ç–æ –ø–æ–¥–æ–π–¥–µ—Ç", "–ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é"
  ],
  thanks: [
    "—Å–ø–∞—Å–∏–±–æ", "–±–ª–∞–≥–æ–¥–∞—Ä—é", "–±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω", "—Å–ø–∞—Å–∏–±–∫–∏"
  ],
  bye: [
    "–ø–æ–∫–∞", "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è", "–¥–æ –≤—Å—Ç—Ä–µ—á–∏", "—É–≤–∏–¥–∏–º—Å—è", "–ø—Ä–æ—â–∞–π"
  ],
  smalltalkLite: [
    "–∫–∞–∫ –¥–µ–ª–∞", "—á–µ–º –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è", "—á—Ç–æ –Ω–æ–≤–æ–≥–æ", "–∫–∞–∫ —Ç—ã"
  ],
  softWarning: [
    "–∑–∞—Ç–∫–Ω–∏—Å—å", "—Ö–≤–∞—Ç–∏—Ç", "–Ω–µ –≥–æ–≤–æ—Ä–∏ —Ç–∞–∫"
  ],
  styleTalk: [
    "—á—Ç–æ –º–æ–¥–Ω–æ", "—Ç—Ä–µ–Ω–¥—ã", "–≤ –º–æ–¥–µ", "–º–æ–¥–Ω–æ", "–∞–∫—Ç—É–∞–ª—å–Ω–æ"
  ],
  about: [
    "–∫—Ç–æ —Ç—ã", "—Ç—ã –∫—Ç–æ", "—á—Ç–æ —Ç—ã —Ç–∞–∫–æ–µ", "—Ä–∞—Å—Å–∫–∞–∂–∏ –∫—Ç–æ —Ç—ã"
  ],
  showServices: [
    "—É—Å–ª—É–≥–∏", "–º–∞–Ω–∏–∫—é—Ä", "—Ü–µ–Ω—ã", "–ø—Ä–∞–π—Å", "—á—Ç–æ –¥–µ–ª–∞–µ—à—å"
  ],
  help: [
    "–ø–æ–º–æ–≥–∏", "–Ω–µ –ø–æ–Ω–∏–º–∞—é", "–Ω–µ –∑–Ω–∞—é", "–≤—ã–±–µ—Ä–∏ –∑–∞ –º–µ–Ω—è", "—á—Ç–æ –≤—ã–±—Ä–∞—Ç—å"
  ]
};

/**
 * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ–Ω—Ç –ø–æ –≤—Ö–æ–¥–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É
 * @param {string} input ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
 * @returns {string|null} ‚Äî –∏–º—è –∏–Ω—Ç–µ–Ω—Ç–∞ –∏–ª–∏ null
 */
export function matchIntent(input) {
  const normalized = input.toLowerCase().trim();
  console.log("üß† matchIntent –ø–æ–ª—É—á–∏–ª:", normalized);

  for (const [intent, patterns] of Object.entries(intentMatchers)) {
    if (patterns.some(p => normalized.includes(p))) {
      console.log("‚úÖ –Ω–∞–π–¥–µ–Ω –∏–Ω—Ç–µ–Ω—Ç:", intent);
      return intent;
    }
  }

  console.log("‚ùå –∏–Ω—Ç–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");
  return null;
}
